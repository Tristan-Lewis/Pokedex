let pokemonRepository = function () { let e = [], t = 1; function n(t) { e.push(t) } function o() { return e } function i(e) { r(e).then(function t(n) { let o = $(".modal-title"), i = $(".modal-body"); o.empty(), i.empty(); let r = $('<img class="modal-img pokemonImage">'); r.attr("src", e.imageUrl); let a = $('<h1 class="pokemonName">' + e.name.toUpperCase() + "</h1>"); e.height = e.height / 10; let l = $('<p class="pokemonHeight">Height ' + e.height + "m</p>"); e.weight = e.weight / 10; let p = $(`<p class="pokemonWeight">Weight ${e.weight}kg</p>`); o.append(r), o.append(a), o.append(l), o.append(p) }) } function r(e) { return fetch(e.detailsUrl).then(function (e) { return e.json() }).then(function (t) { e.imageUrl = t.sprites.versions["generation-i"]["red-blue"].front_default, e.height = t.height, e.weight = t.weight }).catch(function (e) { console.error(e) }) } function a() { let e = document.querySelector(".searchinput"), t = document.querySelectorAll(".pokemonbutton"), n = e.value.toUpperCase(); for (let o = 0; o < t.length; o++)t[o].innerText == n && t[o].click() } return document.querySelector(".searchbutton").addEventListener("click", a), { add: n, getAll: o, showDetails: i, addListItem: function e(n) { let o = document.querySelector("ul"), r = document.createElement("li"), a = document.createElement("p"), l = document.createElement("button"); t < 10 ? a.innerText = "00" + t : t < 100 ? a.innerText = "0" + t : a.innerText = t, t++, r.classList.add("group-list-item"), l.setAttribute("data-target", "#pokemonModal"), l.setAttribute("data-toggle", "modal"), l.innerText = n.name.toUpperCase(), l.classList.add("pokemonbutton", "btn", "btn-dark"), l.addEventListener("click", function () { i(n) }), r.appendChild(l), o.appendChild(a), o.appendChild(r) }, loadList: function e() { return fetch("https://pokeapi.co/api/v2/pokemon/?limit=151").then(function (e) { return e.json() }).then(function (e) { e.results.forEach(function (e) { n({ name: e.name, detailsUrl: e.url }) }) }).catch(function (e) { console.error(e) }) }, searchPokemon: a, loadDetails: r } }(); pokemonRepository.loadList().then(function () { pokemonRepository.getAll().forEach(function (e) { pokemonRepository.addListItem(e) }) });
